# ============================================================================
# GitLab Claude Manager - Environment Variables
# ============================================================================
# Copy this file to the project root as .env and fill in your values
# cp docs/.env.example .env
#
# IMPORTANT: Never commit the actual .env file to version control
# ============================================================================

# ----------------------------------------------------------------------------
# NEXTAUTH CONFIGURATION (Required)
# ----------------------------------------------------------------------------
# NextAuth requires a secret for JWT token signing and encryption
# Generate a secure secret with: openssl rand -base64 32
NEXTAUTH_SECRET=your-nextauth-secret-here-min-32-characters

# The canonical URL of your application
# Development: http://localhost:3000
# Production: https://your-domain.com
NEXTAUTH_URL=http://localhost:3000

# ----------------------------------------------------------------------------
# API AUTHENTICATION (Optional but Recommended for Production)
# ----------------------------------------------------------------------------
# API keys for external clients accessing your API endpoints
# Multiple keys can be comma-separated for different clients
# Generate secure keys with: openssl rand -hex 32
VALID_API_KEYS=client-key-1,client-key-2,client-key-3

# Admin API key with elevated privileges
# Should be different from client keys and kept highly secure
ADMIN_API_KEY=admin-secret-key-here

# ----------------------------------------------------------------------------
# RATE LIMITING (Optional)
# ----------------------------------------------------------------------------
# Maximum number of API requests per hour per client
# Default: 100 requests/hour if not set
API_RATE_LIMIT=100

# ----------------------------------------------------------------------------
# IP WHITELISTING (Optional)
# ----------------------------------------------------------------------------
# Comma-separated list of allowed IP addresses for API access
# Use '*' to allow all IPs (not recommended for production)
# Leave empty or omit to allow all IPs
# Examples:
#   ALLOWED_IPS=192.168.1.100,10.0.0.50
#   ALLOWED_IPS=*
ALLOWED_IPS=

# ----------------------------------------------------------------------------
# CLAUDE API CONFIGURATION (Optional)
# ----------------------------------------------------------------------------
# Anthropic API key for Claude Code integration
# Get your key from: https://console.anthropic.com/
# Note: Can also be configured through the UI settings
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# ----------------------------------------------------------------------------
# GITLAB CONFIGURATION (Optional)
# ----------------------------------------------------------------------------
# GitLab personal access token for repository operations
# Create at: https://gitlab.com/-/profile/personal_access_tokens
# Required scopes: api, read_repository, write_repository
# Note: Can also be configured through the UI settings
GITLAB_TOKEN=your-gitlab-token-here

# GitLab instance URL (defaults to gitlab.com)
# Only needed if using self-hosted GitLab
GITLAB_URL=https://gitlab.com

# ----------------------------------------------------------------------------
# APPLICATION SETTINGS (Optional)
# ----------------------------------------------------------------------------
# Node environment (set automatically by Next.js)
# Values: development | production | test
NODE_ENV=development

# Disable Next.js telemetry (set automatically in CI/CD)
NEXT_TELEMETRY_DISABLED=1

# ----------------------------------------------------------------------------
# WORKSPACE CONFIGURATION (Optional - Advanced)
# ----------------------------------------------------------------------------
# Maximum workspace size in MB
# Default: 500MB
MAX_WORKSPACE_SIZE_MB=500

# Maximum number of concurrent workspaces
# Default: 3
MAX_CONCURRENT_WORKSPACES=3

# Temporary directory prefix for workspace creation
# Default: gitlab-claude-
TEMP_DIR_PREFIX=gitlab-claude-

# ----------------------------------------------------------------------------
# LOGGING CONFIGURATION (Optional)
# ----------------------------------------------------------------------------
# Log level for application logging
# Values: debug | info | warn | error
# Default: info
LOG_LEVEL=info

# ----------------------------------------------------------------------------
# ALLOWED GITLAB HOSTS (Optional - Security)
# ----------------------------------------------------------------------------
# Comma-separated list of allowed GitLab hosts for repository operations
# Default: gitlab.com
# Example: gitlab.com,gitlab.company.com
ALLOWED_GITLAB_HOSTS=gitlab.com

# ============================================================================
# DEPLOYMENT-SPECIFIC VARIABLES
# ============================================================================
# These are typically set by your deployment platform and should not be
# included in your .env file

# Vercel-specific (automatically set by Vercel)
# VERCEL_ENV=production
# VERCEL_URL=your-app.vercel.app

# Docker-specific (set in docker-compose.yml or runtime)
# PORT=3000
# HOSTNAME=0.0.0.0

# ============================================================================
# SECURITY NOTES
# ============================================================================
# 1. NEVER commit your .env file to version control
# 2. Use strong, randomly generated keys (minimum 32 characters)
# 3. Rotate API keys and secrets regularly
# 4. Use different secrets for development and production
# 5. Enable IP whitelisting in production environments
# 6. Set appropriate rate limits to prevent abuse
# 7. Review and minimize the API keys you create
#
# To generate secure random keys:
# - OpenSSL:  openssl rand -hex 32
# - Node.js:  node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# - Python:   python3 -c "import secrets; print(secrets.token_hex(32))"
# ============================================================================
